プラレール　レール類設計データセット
熊谷正朗

０．はじめに

　この設計データはプラレールの特殊なポイントおよび高架橋線路を構成するための３次元設計データです。ふとしたきっかけ（忘れた；親戚からお下がりがたくさん届いて、子供らのレールレイアウトのバリエーションが増えたのが主因だと思う）から、突然試作を始めたものです。Twitterで関心を頂いたこと、および、形状構成の事例としての観点から、その設計データを公開することとしました。


１．本データの使用上の注意（ライセンス的）

・まず第一にプラレールは株式会社タカラトミーの登録商標であり、同社の製品です。それゆえ本データの使用の前提には、同社の制約があり、同社が禁じたことは禁じられます。
・本データはas isで提供するものであって、サポートは保障しません。
・本データの利用は、利用者の責任によるものとします。本データの利用に伴うトラブルは利用者で解決し、熊谷は関与しません（成形品の角によるけがや法的問題など）。
・本データの直接的な利用（プリンタによる成形出力）は個人の責任の範囲とし、個人、仲間内の範囲を超えての頒布（販売）は禁じます。ただし、タカラトミー社から正式になんらかの許可を得た場合などはその限りではなく、その場合は確認の連絡を下さい。
・本データのアイデア的な再利用（設計データや寸法を直接的には利用しない）については、利用者に一任します。引用などの明記も不要です。ただし、熊谷まで責任、問い合わせ等が及ばないものとします。
・本データの学修・教育的な利用についても、個人、あるいは学校・団体などの範囲で、利用の責任者が管理できる範囲で利用者に一任します。

※平たく言えば、「手元のデータを公開します。好きにしてかまいませんが、タカラトミー社と熊谷に迷惑が及ばないようにしてください」


２．データの説明
２．１　データの説明

・本設計データは Autodesk社の3DCAD Inventor 2021 Professional (教育向け)で設計されています。同ソフトをインストールしてあれば、そのまま開け、寸法調整、加工等ができると期待されます。2020以前は開けず、2022以降は変換時に一部ファイルの関係性が崩れる可能性があります。Fusion360ではインポートできるようですが、(関係は深いとはいえ)Inventorの機能を様々につかっているため、どの程度再現できるかは不明です。なお、Inventor(教育向け)は学校関係者は無償で利用できる場合があります。詳しくは同社サイトをご覧下さい。
・3Dプリンタ等用のSTLファイルが用意されている場合があります。これらは主に当方で出力することを念頭にしており、XYZプリンティング社 daVinci Super・ABS樹脂で出力を確認しています(成型誤差は0.1mm程度)。経験からすると、daVinci Pro 1.0でも同等の形状精度が得られると考えられますが、主にポイント類は長さが200mmを超えているため、斜めにおいても入らない場合があります。プリンタの成型精度の誤差については、以下のように調整用のパラメータがあります。
・レールの基本長 L=215mm および ジョイント部の寸法、レール断面形状は、家にあったレールから適宜実寸していますが、製品でも寸法にあるていどのばらつきがありました。調整する場合の調整箇所は後述します。
・出力例、組み立て例、設計の解説は
　　　https://togetter.com/li/1682126
　にまとめてあります。

２．２　設計方針とファイルの命名規則
・ある程度ファイルの共通性再利用性を考慮した構成。
・iPart, テーブルを利用した設計
・ファイル拡張子等
　　・ .ipt ：Inventorパーツファイル
　　・ .iam ：Inventorアセンブリファイル
　　・ .stl ：プリンタ用STLファイル
　　　　　　　基本的に、同名のiam(優先)もしくはiptファイルから出力
　　・ _C 　：アセンブリファイルの簡略化のためのシュリンクラップ、
　　　　　　　派生のファイル。
　　・ _S 　：プリント用のサポート材の設計ファイル
　　　　　　　（_Sと_Sなしをアセンブルする場合、_Sに本来の出力対象も
　　　　　　　　含んでいて、これをプリントすれば良い場合の両者がある）
　　・ _MIR ：ミラー（鏡像）の派生ファイル
　　・ printasm ：複数部品をまとめて印刷するためなどのアセンブリ
　　・ testprint, testasm：組み立て試験や印刷試験用のファイル
　　　　　　　　（たとえばポイントのバーの動作参考用、
　　　　　　　　　印刷する前のイメージ確認）
　　・ .ipt, .iam と同名のフォルダ：iPartなどの中間ファイル置き場
　　　　　　　Inventorで自動生成されるので直接は触らない
　　　　　　　（どこかのアセンブリなどで使ったときにテーブルで指定
　　　　　　　　したパラメータでインスタンスができる感じ）
　　・ .png ：参考までに形状を画像で保存したもの。
　　　　　　　_Table.png はiPartのテーブル（ファイル名と寸法の対応）

・基本形式
　　１．機能を得るための形状設計（ポイント形状等）
　　　　　※フォルダ名と同名の iptファイル
　　２．それを分割、ミラー
　　３．レールのジョイント部とともにアセンブル
　　４．継ぎ目消しのため、シュリンクラップして単一形状化
　　５．パーツによってはサポート材の設計追加
　　６．STL出力
　ので、STLファイルと同名のiam (なければipt)から順次、要素を
　たどるとわかりやすい。


３．現時点で含まれている設計

３．１　概要

・特殊長直線、特殊曲率カーブ
・片渡り、単線複線ポイント、Ｓ字カーブ
　および、高架橋側壁オプション
　　　※片渡りからの派生品
・ダブルクロス（シザースクロス）
　　　※複線レール幅、レール超
　　　※ななめに分岐する特殊形を含む
・引き上げ線ポイント
　　　※駅間隔で２：３の線路

・高架橋　橋脚
・単純スロープ（地上から橋脚１段分まで）
・ユニット式高架橋橋脚およびスロープユニット


３．２　説明

●基本ファイル
・root/PlaRails.ipj
　　Inventorのプロジェクトファイル
・root/GlobalParameter.ipt
　　設計全体に関わるパラメータを含む（後述）
　　多くの設計ファイルは直接的、間接的にこのファイルからパラメータ参照している。
・root/RailJoint(Male, Female)(_filled).ipt
　　連結部の形状のファイル。
　　カーブ以外の形状はこれを部品として組み込んで使用している。
　　レールは表面のみであるが、橋脚にはめ込む凹部構造が裏にあり、
　　サポート構造を合わせてプリントするので、あとでラジペンなどでむしる。
　　_filledはこの構造がなく、埋まっている。
・root/RailUnitBase.ipt
　　連結部の元ファイル。ここから一方を消して、上記連結形状になる。
　　そのため、修正するのであれば、このファイル。寸法はGlobalParameterで
　　規定しているものが多い。


●特殊長直線 StraightRail/
・StraightRail_i.iam, _C.ipt
　　連結部を引き延ばす方法で直線レールにしている。
　　iPart テーブルで寸法可変。
　　_i でテーブルを選んで、_CからSTLを出力。
　　M, Fはオスメス形状、数値は長さ。

●特殊曲線 CurveRail/
・CurveRail.ipt
　　表裏が欲しいために特殊な構造。
　　XYZPrintの「サポート：底辺」付けたときのブロック部がある。
　　iPartのテーブルで半径と中心角を指定できる。
　　STLファイルの寸法は、半径-中心角、215halfは215/2。

●引き上げ線ポイント PocketTrackPoint/
・PocketPoint_C.ipt、.stl
　　ポイントレール部分の最終形状。プリント用。
・PocketPoint.ipt
　　ポイントの機能形状部分を規定してあるパーツ。
　　寸法調整などはこのファイルで行う。
・PocketPointBar*.ipt
　　ポイントのトングにあたるバーの形状を規定。
　　BarPinはバーの回転軸にあたるピン
・pp_bar_printasm
　　バー類をまとめてプリントしやすくしたアセンブリ
・組み立て方：
　　BarにBarPinを入れて、レール部分の穴に固定する。
　　使用ネジ：M2ナット、M2x8mmネジ
　　ネジを入れる前に、BarとPinが抵抗なく回るようにBarの穴を調整。
　　BarPinおよびレール側の穴をネジがスムーズに通る程度に調整。
　　※5mmリーマ加工／2mmリーマ加工


●高架橋脚 ViaductPillar/
・VDPillar_A, VDPillar_B, vppillar_printasm.stl
　　複線レール間隔にも対応した、高架レール向けの橋脚。橋脚に側壁が付いている。
・StandardPillarCover　　※iam, stlは４個まとめて印刷用
　　通常の橋脚に高架レールを乗せて出っ張った部分に、それらしいカバーを付ける。

●「大きな鉄橋」部品 TrussCC/
・思えば、もらってきた鉄橋でこの部品がないから、つくるか、とか
　思ったのがすべての始まりだった気がする。


